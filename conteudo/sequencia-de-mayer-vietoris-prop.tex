\subsection{Sequência de Mayer-Vietoris} %afirmação aqui significa teorema/proposição/colorário/lema
\label{sequencia-de-mayer-vietoris-prop}
\begin{titlemize}{Lista de dependências}
	\item \hyperref[complexo-de-cadeias-def]{Complexo de cadeias};\\ 
    \item \hyperref[aplicacao-de-cadeias-def]{Aplicação de cadeias};\\
    \item \hyperref[homomorfismo-induzido-de-cadeias-prop]{Homomorfismo induzido de cadeias};\\
    \item \hyperref[sequencia-exata-def]{Sequência exata};\\
    \item \hyperref[homomorfismo-conectante-def]{Homomorfismo conectante};\\
    \item \hyperref[sequencia-exata-longa-induzida-prop]{Sequência exata longa induzida};\\
    \item \hyperref[homologia-singular-def]{Homologia singular};\\
    \item \hyperref[homomorfismo-de-homologias-singulares-induzido-prop]{Homomorfismo de homologias singulares induzido};\\
    \item \hyperref[simplexos-singulares-subordinados-a-uma-cobertura-def]{Simplexos singulares subordinados a uma cobertura};\\
    
\end{titlemize}

A sequência de Mayer-Vietoris é uma das mais poderosas ferramentas para o cálculo da homologia de um espaço topológico.
\begin{thm}
    Sejam $X$ um espaço topológico e $U$ e $V$ subconjuntos de $X$ tais que $int(U)\cup int(V)=X$. Considere as inclusões 
    \[i:U\cap V\hookrightarrow U,\;j:U\cap V\hookrightarrow V,\;k:U\hookrightarrow X,\;l:V\hookrightarrow X.\]
    Então, a sequência 
    \[...H_{n+1}(X)\xrightarrow{\delta} H_n(U\cap V)\xrightarrow{\Phi}H_n(U)\oplus H_n(V)\xrightarrow{\Psi} H_n(X)\rightarrow ...\]
    é exata, onde $\Phi:=i_*\oplus-j_*$ e $\Psi:=k_*+l_*$ 
\end{thm}

\begin{dem}
    Tomamos a cobertura $\mathcal{U}=\{U,V\}$ e consideramos, para cada $n\ge 0$, os homomorfismos $\phi:S_n(U\cap V)\rightarrow S_n(U)\oplus S_n(V)$ e $\psi:S_n(U)\oplus S_n(V)\rightarrow S_n^{\mathcal{U}}(X)$ dados por 
    \[\phi_n(c)=i_n(c)\oplus -j_n(c)\;\;\text{ e }\;\;\psi_n(c_1\oplus c_2)=k_n(c_1)+l_n(c_2).\]
    Para uma n-cadeia $c=a_1\sigma_1+...+a_r\sigma_r\in S_n(U\cap V)$, temos que 
    \[i_n(c)=a_1 (i\circ \sigma_1)+...+a_r(i\circ \sigma_r).\]
    Como $i\circ\sigma_1,...,i\circ \sigma_r$ são elementos da base do grupo abeliano livre $S_n(U)$, temos que $i_n(c)=0$ se, e somente se, $c=0$, o que mostra que $i_n$ é injetor. Analogamente, $j_n$ também é injetor. Portanto, $\phi_n$ é injetor.

    Pela definição, cada n-cadeia $c\in S_n^{\mathcal{U}}(X)$ é, da forma $c=c_1+c_2$ onde $c_1\in S_n (U)$ e $c_2\in S_n(V)$. Como $c=\psi_n(c_1\oplus c_2)$, provamos que $\psi_n$ é sobrejetor.

    Dada uma n-cadeia $c=a_1\sigma_1+...+a_r\sigma_r\in S_n(U\cap V)$, temos 
    \begin{align*}
        \psi_n\circ \phi_n(c)=& a_1(k\circ i\circ \sigma_1)+...+a_r(k\circ i\circ \sigma_r)\\
        &- (a_1(l\circ j\circ \sigma_1)+...+a_r (l\circ j\circ \sigma_r)).
    \end{align*}
    Como para cada n-simplexo singular $\sigma_i$, as composições $k\circ i\circ \sigma_i$ e $l\circ j \circ \sigma_i$ são iguais em $X$, obtemos $\psi_n\circ\phi_n(c)=0$. Portanto $\text{Im}(\phi_n)\subseteq \text{Ker}(\psi_n)$.

    Por outro lado, se as n-cadeias $c_1=a_1\sigma_1+...+ a_r\sigma_r \in S_n(U)$ e $c_2=a_1'\sigma_1'+...+a_s' \sigma_s'\in S_n(V)$ são não nulas tais que $c_1\oplus c_2\in \text{Ker}(\psi_n)$, então 
    \[a_1(k\circ \sigma_1)+...+a_r (k\circ \sigma_r)=-(a_1'(l\circ \sigma_1')+...+a_s'(l\circ \sigma_s')).\]
    Como só há uma única expressão de cada elemento do grupo abeliano livre $S_n(X)$ como combinação linear dos n-simplexos singulares, $r=s$ e, a menos de reordenação dos índices, $\sigma_t=\sigma_{t}'$ e $a_t'=-a_t$ para cada $1\le t\le r=s$. Dessa forma, $c_1,c_2\in S_n(U\cap V)$ e $c_2=-c_1$. Isso mostra que $c_1\oplus c_2=\phi_n (c_1)$, o que implica que $\text{Ker}(\psi_n)\subseteq \text{Im}(\phi_n)$.

    Pelos resultados obtidos acima, temos a sequência 
    \[0\rightarrow S_n (U\cap V)\xrightarrow{\phi_n} S_n (U)\oplus S_n(V)\xrightarrow{\psi_n} S_n^{\mathcal{U}}(X)\rightarrow 0\]
    é exata para cada $n\ge 0$. Logo a
    sequência dos complexos de cadeias 
    \[0\rightarrow S (U\cap V)_*\xrightarrow{\phi} S (U)_*\oplus S(V)_*\xrightarrow{\psi} S^{\mathcal{U}}(X)_*\rightarrow 0\]
    é exata, onde $\phi=(\phi_n)_{n\ge 0}$ e $\psi=(\psi_n)_{n\ge 0}$.

    Pelo Teorema \ref{sequencia-exata-longa-induzida-prop}, essa sequência induz a sequência 
    \[...\rightarrow H_{n+1}^\mathcal{U}(X)\xrightarrow{\delta} H_n(U\cap V)\xrightarrow{\phi_*}H_n(U)\oplus H_n(V)\xrightarrow{\psi_*} H^\mathcal{U}_n(X)\rightarrow ...\;.\]
    Como $\Phi=\phi_*$ e $\Psi=\psi_*$, a proposição \ref{simplexos-singulares-subordinados-a-uma-cobertura-def} garante que a sequência do enunciado do teorema 
    \[...H_{n+1}(X)\xrightarrow{\delta} H_n(U\cap V)\xrightarrow{\Phi}H_n(U)\oplus H_n(V)\xrightarrow{\Psi} H_n(X)\rightarrow ...\]
    é exata.
\end{dem}
Pela definição do homomorfismo conectante e pelo teorema \ref{sequencia-exata-longa-induzida-prop}, podemos caracterizar o homomorfismo $\delta$ na seguinte forma: uma classe de homologia $\overline{z}\in H_n (X)$ é da forma $\overline{z}=z+B_n(X)\in H_n(X)$, com o n-ciclo $z$ escrito como a soma $z=z_1+z_2$ de uma n-cadeia $z_1$ em $U$ e uma n-cadeia $z_2$ em $V$ (pelo proposição \ref{simplexos-singulares-subordinados-a-uma-cobertura-def}). Como $z$ é um n-ciclo, temos que $\partial z_1=-\partial z_2$ são (n-1)-ciclos em $U\cap V$. Então, 
\[\delta(\overline{z})=\partial z_1+B_{n-1}(U\cap V).\]

Sob certas condições, uma função contínua induz uma aplicação natural entre sequências de Mayer-Vietoris.

\begin{prop}
    Sejam $X, X'$ espaços topológicos decompostos como $X=int(U)\cup int(V)$ e $X'=int(U')\cup int(V')$. Seja $f:X\rightarrow X'$ uma função contínua tal que $f(U)\subseteq U'$ e $f(V)\subseteq V'$. Então, é comutativo o diagrama seguinte
    % https://q.uiver.app/#q=WzAsOCxbMCwwLCJIX3tuKzF9KFgpIl0sWzEsMCwiSF9uKFVcXGNhcCBWKSJdLFsyLDAsIkhfbihVKVxcb3BsdXMgSF9uKFYpIl0sWzMsMCwiSF9uKFgpIl0sWzAsMSwiSF97bisxfShYJykiXSxbMSwxLCJIX24oVSdcXGNhcCBWJykiXSxbMiwxLCJIX24oVScpXFxvcGx1cyBIX24oVicpIl0sWzMsMSwiSF9uKFgnKSJdLFswLDEsIlxcZGVsdGEiXSxbMSwyLCJcXFBoaSJdLFsyLDMsIlxcUHNpIl0sWzAsNCwiZl8qIiwyXSxbMSw1LCJmfF8qIiwyXSxbNCw1LCJcXGRlbHRhJyIsMl0sWzUsNiwiXFxQaGknIiwyXSxbNiw3LCJcXFBzaSciLDJdLFszLDcsImZfKiJdLFsyLDYsImZ8XypcXG9wbHVzIGZ8XyoiXV0=
\[\begin{tikzcd}
	{H_{n+1}(X)} & {H_n(U\cap V)} & {H_n(U)\oplus H_n(V)} & {H_n(X)} \\
	{H_{n+1}(X')} & {H_n(U'\cap V')} & {H_n(U')\oplus H_n(V')} & {H_n(X')}
	\arrow["\delta", from=1-1, to=1-2]
	\arrow["{f_*}"', from=1-1, to=2-1]
	\arrow["\Phi", from=1-2, to=1-3]
	\arrow["{f|_*}"', from=1-2, to=2-2]
	\arrow["\Psi", from=1-3, to=1-4]
	\arrow["{f|_*\oplus f|_*}", from=1-3, to=2-3]
	\arrow["{f_*}", from=1-4, to=2-4]
	\arrow["{\delta'}"', from=2-1, to=2-2]
	\arrow["{\Phi'}"', from=2-2, to=2-3]
	\arrow["{\Psi'}"', from=2-3, to=2-4]
\end{tikzcd}\]
    onde cada linha é um trecho da sequência de Mayer-Vietoris correspondente, e $f|$ denota a restrição de $f$ em domínio associado.
\end{prop}

\begin{dem}
    Como $i'\circ f|=f|\circ i$, $j'\circ f|=f|\circ j$, $f\circ k=k'\circ f|$ e $f\circ l=l'\circ f|$, temos que $i'_*\circ f|_*=f|_*\circ i_*$, $j'_*\circ f|_*=f|_*\circ j_*$, $f_*\circ k_*=k'_*\circ f|_*$ e $f_*\circ l_*=l'_*\circ f|_*$. Isso implica que os quadrados do centro e da direita são comutativos.

    Agora, vamos provar que o quadrado à esquerda também é comutativo. Seja $\overline{z}=z+B_{n+1}(X)\in H_{n+1}(X)$, pela observação acima, o $z$ pode ser escolhido como a soma $z=z_1+z_2$ de uma (n+1)-cadeia $z_1$ em $U$ e uma (n+1)-cadeia $z_2$ em V. Como $f:X\rightarrow X'$ induz uma aplicação de cadeias, temos 

    \begin{align*}
        f|_*\circ \delta(\overline{z}) & =f|_*(\partial z_1+B_{n}(U\cap V))=f(\partial z_1)+B_n(U'\cap V')\\
        &=\partial f(z_1)+B_n(U'\cap V')=\delta'(f(z_1)+f(z_2)+B_{n+1}(X'))\\
        &=\delta'(f(z)+B_{n+1}(X'))=\delta'(f_*(\overline{z})).
    \end{align*}
    Isso mostra que o quadrado à esquerda é comutativo.
\end{dem}
\begin{titlemize}{Lista de consequências}
    \item \hyperref[homologia-singular-de-S1-prop]{Homologia singular da circunferência};\\
    \item \hyperref[sequencia-exata-da-colagem-prop]{Sequência exata da colagem};\\
    \item \hyperref[grau-da-reflexao-prop]{Grau da reflexão}
	%\item \hyperref[]{}
\end{titlemize}
